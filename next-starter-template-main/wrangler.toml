name = "lgfc-lite"

compatibility_date = "2025-10-30"
compatibility_flags = ["nodejs_compat"]

# Pages project config
pages_build_output_dir = "./out"

[[d1_databases]]
binding = "DB"                     # Must match Cloudflare binding name
database_name = "lgfc_lite"        # Must match CF dashboard
database_id = "22d0dc3e-ad34-43af-8e6a-2063df1a1e04"   # Will fill after fetching via wrangler

# --- ZIP 4: Cloudflare Workers Rate Limiting (native binding) ---
# NOTE: namespace_id must be a unique positive integer for your Cloudflare account.
# If this conflicts with an existing rate limiter, change it to another integer.
[[ratelimits]]
name = "API_RATE_LIMITER"
namespace_id = 1001
# 60 requests per 60 seconds per key (per Cloudflare location)
simple = { limit = 60, period = 60 }
